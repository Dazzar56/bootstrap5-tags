function q(n){return n instanceof Element}function _(n,e){let t=e&&q(e)?e:document;return q(n)?n:t.querySelector(n)}function y(n,e){return _(n,e)}var Se="addEventListener",j=Se;var xe="removeEventListener",T=xe;var Ae=(()=>{let n=!1;try{let e=Object.defineProperty({},"passive",{get(){return n=!0,n}});document[j]("DOMContentLoaded",function t(){document[T]("DOMContentLoaded",t,e)},e)}catch(e){throw Error("Passive events are not supported")}return n})(),de=Ae;var Ce=de?{passive:!0}:!1,U=Ce;function L(n,e){n.classList.add(e)}function S(n,e){return n.classList.contains(e)}function p(n,e){n.classList.remove(e)}var je="aria-expanded",W=je;var Te="show",m=Te;var Ne="data-bs-toggle",K=Ne;var De=["dropdown","dropup","dropstart","dropend"],g=De;var Ie="dropdown-menu",Y=Ie;function A(n,e){let t=new CustomEvent(n,{cancelable:!0});return e instanceof Object&&Object.keys(e).forEach(s=>{Object.defineProperty(t,s,{value:e[s]})}),t}function O(n){let e=n.closest("A");return n&&(n.hasAttribute("href")&&n.href.slice(-1)==="#"||e&&e.hasAttribute("href")&&e.href.slice(-1)==="#")}function N(n){n.focus()}function k(n){return n==="true"?!0:n==="false"?!1:Number.isNaN(+n)?n===""||n==="null"?null:n:+n}var qe=n=>Object.keys(n),H=qe;function J(n,e,t,s){let o={...n.dataset},i={},r={};return H(o).forEach(l=>{let c=s&&l.includes(s)?l.replace(s,"").replace(/[A-Z]/,h=>h.toLowerCase()):l;r[c]=k(o[l])}),H(t).forEach(l=>{t[l]=k(t[l])}),H(e).forEach(l=>{l in t?i[l]=t[l]:l in r?i[l]=r[l]:i[l]=e[l]}),i}var V=class{constructor(e,t,s,o){let i=this,r=y(t);r[e]&&r[e].dispose(),i.element=r,s&&Object.keys(s).length&&(i.options=J(r,s,o||{},"bs")),r[e]=i}dispose(e){let t=this;t.element[e]=null,Object.keys(t).forEach(s=>{t[s]=null})}};var[u]=g,v="Dropdown",Q=`[${K}="${u}"]`,D=g[1],M=g[2],P=g[3],x=`${Y}-end`,he=["d-block","invisible"],Oe=[u,D],ue=[M,P],ke={offset:5,display:"dynamic"},Z=A(`show.bs.${u}`),fe=A(`shown.bs.${u}`),G=A(`hide.bs.${u}`),pe=A(`hidden.bs.${u}`);function X(n,e){let{element:t,menu:s,originalClass:o,menuEnd:i,options:r}=n,{offset:l}=r,c=t.parentElement;if(["margin","top","bottom","left","right"].forEach(d=>{s.style[d]=""}),p(c,"position-static"),!e){let d=S(s,x);c.className=o.join(" "),d&&!i?p(s,x):!d&&i&&L(s,x);return}let a=g.find(d=>o.includes(d))||u,f={dropdown:[l,0,0],dropup:[0,0,l],dropstart:[-1,l,0],dropend:[-1,0,0,l]},I={dropdown:{top:"100%"},dropup:{top:"auto",bottom:"100%"},dropstart:{left:"auto",right:"100%"},dropend:{left:"100%",right:"auto"},menuEnd:{right:0,left:"auto"}};he.forEach(d=>L(s,d));let we=new RegExp(`\\b(${u}|${D}|${M}|${P})+`),R={w:t.offsetWidth,h:t.offsetHeight},E={w:s.offsetWidth,h:s.offsetHeight},se=document.documentElement,ie=document.body,ne=se.clientWidth||ie.clientWidth,oe=se.clientHeight||ie.clientHeight,w=t.getBoundingClientRect(),ye=w.left+R.w-E.w<0,re=w.left-E.w<0,Le=w.left+E.w>=ne,le=w.left+E.w+R.w>=ne,z=w.top+E.h>=oe,ae=w.top+E.h+R.h>=oe,ce=w.top-E.h<0;ue.includes(a)&&re&&le&&(a=u),ue.includes(a)&&z&&(a=D),a===M&&re&&!z&&(a=P),a===P&&le&&!z&&(a=M),a===D&&ce&&!ae&&(a=u),a===u&&ae&&!ce&&(a=D),f=f[a],s.style.margin=`${f.map(d=>d&&`${d}px`).join(" ")}`,Object.keys(I[a]).forEach(d=>{s.style[d]=I[a][d]}),S(c,a)||(c.className=c.className.replace(we,a)),Oe.includes(a)&&(!i&&Le?L(s,x):i&&ye&&p(s,x),S(s,x)&&Object.keys(I.menuEnd).forEach(d=>{s.style[d]=I.menuEnd[d]})),he.forEach(d=>p(s,d))}function me(n){let e=n.open?j:T;document[e]("click",ve),document[e]("focus",ve),document[e]("keydown",$e),document[e]("keyup",Ve),n.options.display==="dynamic"&&(window[e]("scroll",be,U),window[e]("resize",be,U))}function ge(n,e){let t=e?j:T;n.element[t]("click",He)}function ee(){let n=g.concat("btn-group").map(e=>document.getElementsByClassName(`${e} ${m}`)).find(e=>e.length);return n&&n.length?Array.from(n[0].children).find(e=>e.hasAttribute(K)):null}function ve(n){let{target:e,type:t}=n;if(!e.closest)return;let s=ee(),o=s&&s.parentNode,i=s&&s[v],r=i&&i.menu,l=e.closest(Q)!==null,c=o&&o.contains(e)&&(e.tagName==="form"||e.closest("form")!==null);t==="click"&&O(e)&&n.preventDefault(),!(t==="focus"&&(e===s||e===r||r.contains(e)))&&(c||l||i&&i.hide(s))}function He(n){let e=this;e[v].toggle(e),O(n.target)&&n.preventDefault()}function $e(n){(n.which===38||n.which===40)&&n.preventDefault()}function Ve({which:n}){let e=ee(),t=e[v],{menu:s,menuItems:o,open:i}=t,r=document.activeElement,l=r===e,c=s.contains(r),h=r.parentNode===s||r.parentNode.parentNode===s,a=o.indexOf(r);h&&(l?a=0:n===38?a=a>1?a-1:0:n===40&&(a=a<o.length-1?a+1:a),o[a]&&N(o[a])),(o.length&&h||!o.length&&(c||l)||!c)&&i&&n===27&&t.toggle()}function be(){let n=ee(),e=n&&n[v];e&&e.open&&X(e,1)}var B=class extends V{constructor(e,t){super(v,e,ke,t);let s=this,{element:o}=s,i=o.parentElement;s.menu=y(`.${Y}`,i);let{menu:r}=s;s.originalClass=Array.from(i.classList),s.menuEnd=S(r,x),s.menuItems=[],Array.from(r.children).forEach(l=>{l.children.length&&l.children[0].tagName==="A"&&s.menuItems.push(l.children[0]),l.tagName==="A"&&s.menuItems.push(l)}),s.open=!1,ge(s,1)}toggle(e){let t=this,{open:s}=t;s?t.hide(e):t.show(e)}show(e){let t=this,s=y(g.concat("btn-group").map(h=>`.${h}.${m}`).join(",")),o=s&&y(Q,s);o&&o[v].hide();let{element:i,menu:r,open:l}=t,c=i.parentNode;Z.relatedTarget=e||null,c.dispatchEvent(Z),!Z.defaultPrevented&&(X(t,1),L(r,m),L(c,m),i.setAttribute(W,!0),t.open=!l,setTimeout(()=>{N(r.getElementsByTagName("INPUT")[0]||i),me(t),fe.relatedTarget=e||null,c.dispatchEvent(fe)},1))}hide(e){let t=this,{element:s,menu:o,open:i}=t,r=s.parentNode;G.relatedTarget=e||null,r.dispatchEvent(G),!G.defaultPrevented&&(p(o,m),p(r,m),X(t),s.setAttribute(W,!1),t.open=!i,N(s),setTimeout(()=>me(t),1),pe.relatedTarget=e||null,r.dispatchEvent(pe))}dispose(){let e=this,{element:t}=e;S(t.parentNode,m)&&e.open&&e.hide(),ge(e),super.dispose(v)}};B.init={component:v,selector:Q,constructor:B};var Me="is-active",b=["is-active","bg-primary","text-white"],C="data-value",te=new Map,F=class{#l;#t;#i;#n;#s;#e;#r;#o;constructor(e,t={}){e.style.display="none",e.dataset.tags=!0,this.#t=e;let s=i=>["true","false","1","0",!0,!1].includes(i)&&!!JSON.parse(i),o={...t,...e.dataset};for(this.allowNew=o.allowNew?s(o.allowNew):!1,this.showAllSuggestions=o.showAllSuggestions?s(o.showAllSuggestions):!1,this.badgeStyle=o.badgeStyle||"primary",this.allowClear=o.allowClear?s(o.allowClear):!1,this.server=o.server||!1,this.liveServer=o.liveServer?s(o.liveServer):!1,this.suggestionsThreshold=o.suggestionsThreshold?parseInt(o.suggestionsThreshold):1,this.validationRegex=o.regex||"",this.separator=o.separator?o.separator.split("|"):[],this.max=o.max?parseInt(o.max):null,this.clearLabel=o.clearLabel||"Clear",this.searchLabel=o.searchLabel||"Type a value",e.hasAttribute("multiple")||(this.max=1),this.placeholder=this.#m(),this.#r=!1,this.#o=!1,this.parentForm=e.parentElement;this.parentForm&&(this.parentForm=this.parentForm.parentElement,this.parentForm.nodeName!="FORM"););if(this.parentForm.addEventListener("reset",i=>{this.reset()}),this.#i=document.createElement("div"),this.#n=document.createElement("div"),this.#s=document.createElement("ul"),this.#e=document.createElement("input"),this.#i.appendChild(this.#n),this.#n.appendChild(this.#e),this.#i.appendChild(this.#s),this.#t.parentNode.insertBefore(this.#i,this.#t.nextSibling),this.#E(),this.#v(),this.#g(),this.#b(),this.server&&!this.liveServer)this.#u();else{let i=Array.from(this.#t.querySelectorAll("option")).map(r=>({value:r.getAttribute("value"),label:r.innerText}));this.#f(i)}}static init(e="select[multiple]",t={}){let s=document.querySelectorAll(e),o;for(let i=0;i<s.length;i++)s[i].dataset.tags||(o=new F(s[i],t),te.set(s[i],o))}static getInstance(e){if(te.has(e))return te.get(e)}dispose(){Data.remove(this._element,this.constructor.DATA_KEY),EventHandler.off(this._element,this.constructor.EVENT_KEY)}#u(e=!1){this.#l&&this.#l.abort(),this.#l=new AbortController,fetch(this.server+"?query="+encodeURIComponent(this.#e.value),{signal:this.#l.signal}).then(t=>t.json()).then(t=>{let s=t.data||t;this.#f(s),this.#l=null,e&&this.#c()}).catch(t=>{t.name!=="AbortError"&&console.error(t)})}#m(){let e=this.#t.querySelector("option");if(!!e){if(!e.value){let t=e.innerText;return e.remove(),t}return this.#t.getAttribute("placeholder")?this.#t.getAttribute("placeholder"):this.#t.getAttribute("data-placeholder")?this.#t.getAttribute("data-placeholder"):""}}#g(){this.#s.classList.add("dropdown-menu","p-0"),this.#s.style.maxHeight="280px",this.#s.style.overflowY="auto",this.#s.addEventListener("mouseenter",e=>{this.#r=!1})}#v(){this.#i.classList.add("form-control","dropdown"),this.isDisabled()&&this.#i.setAttribute("readonly",""),this.#p()===4&&(this.#i.style.height="auto")}#b(){this.#n.addEventListener("click",t=>{this.isDisabled()||(this.#e.style.visibility!="hidden"?this.#e.focus():this.max===1&&this.#c())});let e=this.#t.querySelectorAll("option[selected]");for(let t=0;t<e.length;t++){let s=e[t];!s.value||(s.dataset.init=1,this.addItem(s.innerText,s.value))}}#E(){this.#e.type="text",this.#e.autocomplete="off",this.#e.style.backgroundColor="transparent",this.#e.style.border=0,this.#e.style.outline=0,this.#e.style.maxWidth="100%",this.#e.ariaLabel=this.searchLabel,this.isDisabled()&&this.#e.setAttribute("disabled",""),this.#a(),this.#e.addEventListener("input",e=>{this.#a(),this.#e.value.length>=this.suggestionsThreshold?this.liveServer?this.#u(!0):this.#c():this.#d()}),this.#e.addEventListener("focus",e=>{this.#e.value.length>=this.suggestionsThreshold&&this.#c()}),this.#e.addEventListener("focusout",e=>{this.#d()}),this.#e.addEventListener("keydown",e=>{let t=e.keyCode||e.key;if(this.separator.length&&this.separator.includes(e.key)){e.preventDefault(),this.addItem(this.#e.value,null)&&this.#h();return}switch(t){case 13:case"Enter":let s=this.getActiveSelection();s?s.click():this.allowNew&&!this.#L(this.#e.value)&&this.#e.value&&this.addItem(this.#e.value,null)&&this.#h(),e.preventDefault();break;case 38:case"ArrowUp":e.preventDefault(),this.#r=!0;let o=this.#w();this.#e.value.length==0&&this.#s.classList.contains("show")&&!o&&this.#d();break;case 40:case"ArrowDown":e.preventDefault(),this.#r=!0,this.#y(),this.#e.value.length==0&&!this.#s.classList.contains("show")&&this.#c();break;case 8:case"Backspace":this.#e.value.length==0&&(this.removeLastItem(),this.#a(),this.#d());break}})}#w(){let e=this.getActiveSelection();if(e){let t=e.parentNode;do t=t.previousSibling;while(t&&t.style.display=="none");return t?(e.classList.remove(...b),t.querySelector("a").classList.add(...b),t.parentNode.scrollTop=t.offsetTop-t.parentNode.offsetTop,t):null}return null}#y(){let e=this.getActiveSelection(),t=null;if(e){t=e.parentNode;do t=t.nextSibling;while(t&&t.style.display=="none");return t?(e.classList.remove(...b),t.querySelector("a").classList.add(...b),t.offsetTop>t.parentNode.offsetHeight-t.offsetHeight&&(t.parentNode.scrollTop+=t.offsetHeight),t):null}return t}#a(){this.#e.value?this.#e.size=this.#e.value.length+1:this.getSelectedValues().length?(this.#e.placeholder="",this.#e.size=1):(this.#e.size=this.placeholder.length,this.#e.placeholder=this.placeholder)}#f(e=null){for(;this.#s.lastChild;)this.#s.removeChild(this.#s.lastChild);for(let t=0;t<e.length;t++){let s=e[t];if(!s.value)continue;let o=document.createElement("li"),i=document.createElement("a");if(o.append(i),i.classList.add("dropdown-item"),i.setAttribute(C,s.value),i.setAttribute("href","#"),i.innerText=s.label,s.data)for(let[r,l]of Object.entries(s.data))i.dataset[r]=l;this.#s.appendChild(o),i.addEventListener("mouseenter",r=>{this.#r||(this.removeActiveSelection(),o.querySelector("a").classList.add(...b))}),i.addEventListener("mousemove",r=>{this.#r=!1}),i.addEventListener("mousedown",r=>{r.preventDefault()}),i.addEventListener("click",r=>{r.preventDefault(),this.addItem(i.innerText,i.getAttribute(C),i.dataset),this.#h()})}}reset(){this.#o=!1,this.removeAll();let e=this.#t.querySelectorAll("option[data-init]");for(let t=0;t<e.length;t++){let s=e[t];this.addItem(s.innerText,s.value)}this.#a(),this.#o=!0}#h(){this.#e.value="",this.#a(),this.#d(),this.max&&this.getSelectedValues().length===this.max?this.#e.style.visibility="hidden":this.#e.style.visibility=="hidden"&&(this.#e.style.visibility="visible")}getSelectedValues(){let e=this.getSelectedOptions();return Array.from(e).map(t=>t.value)}getSelectedOptions(){return this.#t.querySelectorAll("option[selected]")}#c(){this.#s.classList.contains("show")||this.#s.classList.add("show"),this.#s.style.left=this.#e.offsetLeft+"px";let e=this.#e.value.toLocaleLowerCase(),t=this.getSelectedValues(),s=this.#s.querySelectorAll("li"),o=!1,i=null,r=!1;for(let l=0;l<s.length;l++){let c=s[l],h=c.innerText.toLocaleLowerCase(),a=c.querySelector("a");if(a.classList.remove(...b),t.indexOf(a.getAttribute(C))!=-1){c.style.display="none";continue}r=!0;let f=e.length===0||h.indexOf(e)!==-1;this.showAllSuggestions||this.suggestionsThreshold===0||f?(c.style.display="list-item",o=!0,!i&&f&&(i=c)):c.style.display="none"}o||this.#s.classList.remove("show"),i?(this.#i.classList.contains("is-invalid")&&this.#i.classList.remove("is-invalid"),i.querySelector("a").classList.add(...b),i.parentNode.scrollTop=i.offsetTop-i.parentNode.offsetTop):!this.allowNew&&!(e.length===0&&!r)?this.#i.classList.add("is-invalid"):this.validationRegex&&this.#i.classList.contains("is-invalid")&&this.#i.classList.remove("is-invalid")}#d(){this.#s.classList.contains("show")&&this.#s.classList.remove("show"),this.#i.classList.contains("is-invalid")&&this.#i.classList.remove("is-invalid")}#p(){let e=5;return window.jQuery&&$.fn.tooltip!=null&&$.fn.tooltip.Constructor!=null&&(e=parseInt($.fn.tooltip.Constructor.VERSION.charAt(0))),e}#L(e){let t=Array.from(this.#t.querySelectorAll("option")).find(s=>s.textContent==e);return!!(t&&t.getAttribute("selected"))}#S(e){return new RegExp(this.validationRegex.trim()).test(e)}getActiveSelection(){return this.#s.querySelector("a."+Me)}removeActiveSelection(){let e=this.getActiveSelection();e&&e.classList.remove(...b)}removeAll(){this.#n.querySelectorAll("span").forEach(t=>{this.removeLastItem(!0)})}removeLastItem(e){e&&(this.#o=!1);let t=this.#n.querySelectorAll("span");if(!t.length)return;let s=t[t.length-1];this.removeItem(s.getAttribute(C)),this.#o=!0}isDisabled(){return this.#t.hasAttribute("disabled")||this.#t.hasAttribute("readonly")}addItem(e,t=null,s={}){if(t||(t=e),this.max&&this.getSelectedValues().length>=this.max)if(this.max===1)this.removeLastItem(!0);else return!1;if(this.validationRegex&&!this.#S(e))return this.#i.classList.add("is-invalid"),!1;let o=this.#p(),i=this.#t.querySelector('option[value="'+t+'"]');i&&(s=i.dataset);let r=e,l=document.createElement("span"),c=["badge"],h=this.badgeStyle;if(s.badgeStyle&&(h=s.badgeStyle),s.badgeClass&&c.push(s.badgeClass),o===5?c=[...c,"me-2","bg-"+h]:c=[...c,"mr-2","badge-"+h],l.classList.add(...c),l.setAttribute(C,t),this.allowClear&&!this.isDisabled()&&(r=(o===5?'<button type="button" style="font-size:0.65em" class="me-2 btn-close btn-close-white" aria-label="'+this.clearLabel+'"></button>':'<button type="button" style="font-size:1em;float:left;text-shadow:none;color:currentColor;" class="mr-2 close" aria-label="'+this.clearLabel+'"><span aria-hidden="true">&times;</span></button>')+r),l.innerHTML=r,this.#n.insertBefore(l,this.#e),this.allowClear&&!this.isDisabled()&&l.querySelector("button").addEventListener("click",a=>{a.preventDefault(),a.stopPropagation(),this.removeItem(t),document.activeElement.blur()}),!i){i=document.createElement("option"),i.value=t,i.innerText=e;for(let[a,f]of Object.entries(s))i.dataset[a]=f;this.#t.appendChild(i)}return i.setAttribute("selected","selected"),i.selected=!0,this.#o&&this.#t.dispatchEvent(new Event("change"),{bubbles:!0}),!0}removeItem(e){let t=this.#n.querySelector("span["+C+'="'+e+'"]');if(!t)return;t.remove();let s=this.#t.querySelector('option[value="'+e+'"]');s&&(s.removeAttribute("selected"),s.selected=!1,this.#o&&this.#t.dispatchEvent(new Event("change"),{bubbles:!0})),this.#e.style.visibility=="hidden"&&this.max&&this.getSelectedValues().length<this.max&&(this.#e.style.visibility="visible")}},Ee=F;var Vt=Ee;export{Vt as default};
//# sourceMappingURL=tags-standalone.min.js.map
