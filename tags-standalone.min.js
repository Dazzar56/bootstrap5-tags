var tt=Object.defineProperty;var st=(n,e,t)=>e in n?tt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ce=(n,e,t)=>(st(n,typeof e!="symbol"?e+"":e,t),t),be=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var i=(n,e,t)=>(be(n,e,"read from private field"),t?t.call(n):e.get(n)),p=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},b=(n,e,t,s)=>(be(n,e,"write to private field"),s?s.call(n,t):e.set(n,t),t);var u=(n,e,t)=>(be(n,e,"access private method"),t);function _(n){return n instanceof Element}function we(n,e){let t=e&&_(e)?e:document;return _(n)?n:t.querySelector(n)}function z(n,e){return we(n,e)}var it="addEventListener",I=it;var nt="removeEventListener",Y=nt;var ot=(()=>{let n=!1;try{let e=Object.defineProperty({},"passive",{get(){return n=!0,n}});document[I]("DOMContentLoaded",function t(){document[Y]("DOMContentLoaded",t,e)},e)}catch(e){throw Error("Passive events are not supported")}return n})(),We=ot;var rt=We?{passive:!0}:!1,ye=rt;function T(n,e){n.classList.add(e)}function A(n,e){return n.classList.contains(e)}function D(n,e){n.classList.remove(e)}var lt="aria-expanded",Ee=lt;var at="show",q=at;var ct="data-bs-toggle",xe=ct;var dt=["dropdown","dropup","dropstart","dropend"],O=dt;var ht="dropdown-menu",je=ht;function W(n,e){let t=new CustomEvent(n,{cancelable:!0});return e instanceof Object&&Object.keys(e).forEach(s=>{Object.defineProperty(t,s,{value:e[s]})}),t}function ee(n){let e=n.closest("A");return n&&(n.hasAttribute("href")&&n.href.slice(-1)==="#"||e&&e.hasAttribute("href")&&e.href.slice(-1)==="#")}function J(n){n.focus()}function te(n){return n==="true"?!0:n==="false"?!1:Number.isNaN(+n)?n===""||n==="null"?null:n:+n}var ut=n=>Object.keys(n),se=ut;function Le(n,e,t,s){let r={...n.dataset},o={},l={};return se(r).forEach(c=>{let f=s&&c.includes(s)?c.replace(s,"").replace(/[A-Z]/,y=>y.toLowerCase()):c;l[f]=te(r[c])}),se(t).forEach(c=>{t[c]=te(t[c])}),se(e).forEach(c=>{c in t?o[c]=t[c]:c in l?o[c]=l[c]:o[c]=e[c]}),o}var ie=class{constructor(e,t,s,r){let o=this,l=z(t);l[e]&&l[e].dispose(),o.element=l,s&&Object.keys(s).length&&(o.options=Le(l,s,r||{},"bs")),l[e]=o}dispose(e){let t=this;t.element[e]=null,Object.keys(t).forEach(s=>{t[s]=null})}};var[E]=O,k="Dropdown",Ne=`[${xe}="${E}"]`,Q=O[1],ne=O[2],oe=O[3],C=`${je}-end`,Ue=["d-block","invisible"],ft=[E,Q],Ke=[ne,oe],pt={offset:5,display:"dynamic"},De=W(`show.bs.${E}`),Ie=W(`shown.bs.${E}`),qe=W(`hide.bs.${E}`),Ye=W(`hidden.bs.${E}`);function Oe(n,e){let{element:t,menu:s,originalClass:r,menuEnd:o,options:l}=n,{offset:c}=l,f=t.parentElement;if(["margin","top","bottom","left","right"].forEach(v=>{s.style[v]=""}),D(f,"position-static"),!e){let v=A(s,C);f.className=r.join(" "),v&&!o?D(s,C):!v&&o&&T(s,C);return}let h=O.find(v=>r.includes(v))||E,N={dropdown:[c,0,0],dropup:[0,0,c],dropstart:[-1,c,0],dropend:[-1,0,0,c]},V={dropdown:{top:"100%"},dropup:{top:"auto",bottom:"100%"},dropstart:{left:"auto",right:"100%"},dropend:{left:"100%",right:"auto"},menuEnd:{right:0,left:"auto"}};Ue.forEach(v=>T(s,v));let Ve=new RegExp(`\\b(${E}|${Q}|${ne}|${oe})+`),ge={w:t.offsetWidth,h:t.offsetHeight},F={w:s.offsetWidth,h:s.offsetHeight},Pe=document.documentElement,Se=document.body,Be=Pe.clientWidth||Se.clientWidth,Fe=Pe.clientHeight||Se.clientHeight,R=t.getBoundingClientRect(),_e=R.left+ge.w-F.w<0,Re=R.left-F.w<0,et=R.left+F.w>=Be,ze=R.left+F.w+ge.w>=Be,ve=R.top+F.h>=Fe,Te=R.top+F.h+ge.h>=Fe,Ae=R.top-F.h<0;Ke.includes(h)&&Re&&ze&&(h=E),Ke.includes(h)&&ve&&(h=Q),h===ne&&Re&&!ve&&(h=oe),h===oe&&ze&&!ve&&(h=ne),h===Q&&Ae&&!Te&&(h=E),h===E&&Te&&!Ae&&(h=Q),N=N[h],s.style.margin=`${N.map(v=>v&&`${v}px`).join(" ")}`,Object.keys(V[h]).forEach(v=>{s.style[v]=V[h][v]}),A(f,h)||(f.className=f.className.replace(Ve,h)),ft.includes(h)&&(!o&&et?T(s,C):o&&_e&&D(s,C),A(s,C)&&Object.keys(V.menuEnd).forEach(v=>{s.style[v]=V.menuEnd[v]})),Ue.forEach(v=>D(s,v))}function Je(n){let e=n.open?I:Y;document[e]("click",Ze),document[e]("focus",Ze),document[e]("keydown",gt),document[e]("keyup",vt),n.options.display==="dynamic"&&(window[e]("scroll",Ge,ye),window[e]("resize",Ge,ye))}function Qe(n,e){let t=e?I:Y;n.element[t]("click",mt)}function ke(){let n=O.concat("btn-group").map(e=>document.getElementsByClassName(`${e} ${q}`)).find(e=>e.length);return n&&n.length?Array.from(n[0].children).find(e=>e.hasAttribute(xe)):null}function Ze(n){let{target:e,type:t}=n;if(!e.closest)return;let s=ke(),r=s&&s.parentNode,o=s&&s[k],l=o&&o.menu,c=e.closest(Ne)!==null,f=r&&r.contains(e)&&(e.tagName==="form"||e.closest("form")!==null);t==="click"&&ee(e)&&n.preventDefault(),!(t==="focus"&&(e===s||e===l||l.contains(e)))&&(f||c||o&&o.hide(s))}function mt(n){let e=this;e[k].toggle(e),ee(n.target)&&n.preventDefault()}function gt(n){(n.which===38||n.which===40)&&n.preventDefault()}function vt({which:n}){let e=ke(),t=e[k],{menu:s,menuItems:r,open:o}=t,l=document.activeElement,c=l===e,f=s.contains(l),y=l.parentNode===s||l.parentNode.parentNode===s,h=r.indexOf(l);y&&(c?h=0:n===38?h=h>1?h-1:0:n===40&&(h=h<r.length-1?h+1:h),r[h]&&J(r[h])),(r.length&&y||!r.length&&(f||c)||!f)&&o&&n===27&&t.toggle()}function Ge(){let n=ke(),e=n&&n[k];e&&e.open&&Oe(e,1)}var re=class extends ie{constructor(e,t){super(k,e,pt,t);let s=this,{element:r}=s,o=r.parentElement;s.menu=z(`.${je}`,o);let{menu:l}=s;s.originalClass=Array.from(o.classList),s.menuEnd=A(l,C),s.menuItems=[],Array.from(l.children).forEach(c=>{c.children.length&&c.children[0].tagName==="A"&&s.menuItems.push(c.children[0]),c.tagName==="A"&&s.menuItems.push(c)}),s.open=!1,Qe(s,1)}toggle(e){let t=this,{open:s}=t;s?t.hide(e):t.show(e)}show(e){let t=this,s=z(O.concat("btn-group").map(y=>`.${y}.${q}`).join(",")),r=s&&z(Ne,s);r&&r[k].hide();let{element:o,menu:l,open:c}=t,f=o.parentNode;De.relatedTarget=e||null,f.dispatchEvent(De),!De.defaultPrevented&&(Oe(t,1),T(l,q),T(f,q),o.setAttribute(Ee,!0),t.open=!c,setTimeout(()=>{J(l.getElementsByTagName("INPUT")[0]||o),Je(t),Ie.relatedTarget=e||null,f.dispatchEvent(Ie)},1))}hide(e){let t=this,{element:s,menu:r,open:o}=t,l=s.parentNode;qe.relatedTarget=e||null,l.dispatchEvent(qe),!qe.defaultPrevented&&(D(r,q),D(l,q),Oe(t),s.setAttribute(Ee,!1),t.open=!o,J(s),setTimeout(()=>Je(t),1),Ye.relatedTarget=e||null,l.dispatchEvent(Ye))}dispose(){let e=this,{element:t}=e;A(t.parentNode,q)&&e.open&&e.hide(),Qe(e),super.dispose(k)}};re.init={component:k,selector:Ne,constructor:re};var bt="is-active",H=["is-active","bg-primary","text-white"],U="data-value",He=new WeakMap,M,m,w,x,g,d,L,j,Z,a,le,a,ae,a,ce,a,de,a,he,a,ue,a,fe,a,P,a,G,a,K,a,S,a,B,a,X,a,pe,a,me,a,Me=class{constructor(e,t={}){p(this,Z);p(this,le);p(this,ae);p(this,ce);p(this,de);p(this,he);p(this,ue);p(this,fe);p(this,P);p(this,G);p(this,K);p(this,S);p(this,B);p(this,X);p(this,pe);p(this,me);p(this,M,void 0);p(this,m,void 0);p(this,w,void 0);p(this,x,void 0);p(this,g,void 0);p(this,d,void 0);p(this,L,void 0);p(this,j,void 0);e.style.display="none",e.dataset.tags=!0,b(this,m,e);let s=o=>["true","false","1","0",!0,!1].includes(o)&&!!JSON.parse(o),r={...t,...e.dataset};for(this.allowNew=r.allowNew?s(r.allowNew):!1,this.showAllSuggestions=r.showAllSuggestions?s(r.showAllSuggestions):!1,this.badgeStyle=r.badgeStyle||"primary",this.allowClear=r.allowClear?s(r.allowClear):!1,this.server=r.server||!1,this.liveServer=r.liveServer?s(r.liveServer):!1,this.suggestionsThreshold=r.suggestionsThreshold?parseInt(r.suggestionsThreshold):1,this.validationRegex=r.regex||"",this.separator=r.separator?r.separator.split("|"):[],this.max=r.max?parseInt(r.max):null,this.clearLabel=r.clearLabel||"Clear",this.searchLabel=r.searchLabel||"Type a value",e.hasAttribute("multiple")||(this.max=1),this.placeholder=u(this,le,a).call(this),b(this,L,!1),b(this,j,!1),this.parentForm=e.parentElement;this.parentForm&&(this.parentForm=this.parentForm.parentElement,this.parentForm.nodeName!="FORM"););if(this.parentForm.addEventListener("reset",o=>{this.reset()}),b(this,w,document.createElement("div")),b(this,x,document.createElement("div")),b(this,g,document.createElement("ul")),b(this,d,document.createElement("input")),i(this,w).appendChild(i(this,x)),i(this,x).appendChild(i(this,d)),i(this,w).appendChild(i(this,g)),i(this,m).parentNode.insertBefore(i(this,w),i(this,m).nextSibling),u(this,he,a).call(this),u(this,ce,a).call(this),u(this,ae,a).call(this),u(this,de,a).call(this),this.server&&!this.liveServer)u(this,Z,a).call(this);else{let o=Array.from(i(this,m).querySelectorAll("option")).map(l=>({value:l.getAttribute("value"),label:l.innerText}));u(this,G,a).call(this,o)}}static init(e="select[multiple]",t={}){let s=document.querySelectorAll(e),r;for(let o=0;o<s.length;o++)s[o].dataset.tags||(r=new Me(s[o],t),He.set(s[o],r))}static getInstance(e){if(He.has(e))return He.get(e)}dispose(){Data.remove(this._element,this.constructor.DATA_KEY),EventHandler.off(this._element,this.constructor.EVENT_KEY)}reset(){b(this,j,!1),this.removeAll();let e=i(this,m).querySelectorAll("option[data-init]");for(let t=0;t<e.length;t++){let s=e[t];this.addItem(s.innerText,s.value)}u(this,P,a).call(this),b(this,j,!0)}getSelectedValues(){let e=this.getSelectedOptions();return Array.from(e).map(t=>t.value)}getSelectedOptions(){return i(this,m).querySelectorAll("option[selected]")}getActiveSelection(){return i(this,g).querySelector("a."+bt)}removeActiveSelection(){let e=this.getActiveSelection();e&&e.classList.remove(...H)}removeAll(){i(this,x).querySelectorAll("span").forEach(t=>{this.removeLastItem(!0)})}removeLastItem(e){e&&b(this,j,!1);let t=i(this,x).querySelectorAll("span");if(!t.length)return;let s=t[t.length-1];this.removeItem(s.getAttribute(U)),b(this,j,!0)}isDisabled(){return i(this,m).hasAttribute("disabled")||i(this,m).hasAttribute("readonly")}addItem(e,t=null,s={}){if(t||(t=e),this.max&&this.getSelectedValues().length>=this.max)if(this.max===1)this.removeLastItem(!0);else return!1;if(this.validationRegex&&!u(this,me,a).call(this,e))return i(this,w).classList.add("is-invalid"),!1;let r=u(this,X,a).call(this),o=i(this,m).querySelector('option[value="'+t+'"]');o&&(s=o.dataset);let l=e,c=document.createElement("span"),f=["badge"],y=this.badgeStyle;if(s.badgeStyle&&(y=s.badgeStyle),s.badgeClass&&f.push(s.badgeClass),r===5?f=[...f,"me-2","bg-"+y]:f=[...f,"mr-2","badge-"+y],c.classList.add(...f),c.setAttribute(U,t),this.allowClear&&!this.isDisabled()&&(l=(r===5?'<button type="button" style="font-size:0.65em" class="me-2 btn-close btn-close-white" aria-label="'+this.clearLabel+'"></button>':'<button type="button" style="font-size:1em;float:left;text-shadow:none;color:currentColor;" class="mr-2 close" aria-label="'+this.clearLabel+'"><span aria-hidden="true">&times;</span></button>')+l),c.innerHTML=l,i(this,x).insertBefore(c,i(this,d)),this.allowClear&&!this.isDisabled()&&c.querySelector("button").addEventListener("click",h=>{h.preventDefault(),h.stopPropagation(),this.removeItem(t),document.activeElement.blur()}),!o){o=document.createElement("option"),o.value=t,o.innerText=e;for(let[h,N]of Object.entries(s))o.dataset[h]=N;i(this,m).appendChild(o)}return o.setAttribute("selected","selected"),o.selected=!0,i(this,j)&&i(this,m).dispatchEvent(new Event("change"),{bubbles:!0}),!0}removeItem(e){let t=i(this,x).querySelector("span["+U+'="'+e+'"]');if(!t)return;t.remove();let s=i(this,m).querySelector('option[value="'+e+'"]');s&&(s.removeAttribute("selected"),s.selected=!1,i(this,j)&&i(this,m).dispatchEvent(new Event("change"),{bubbles:!0})),i(this,d).style.visibility=="hidden"&&this.max&&this.getSelectedValues().length<this.max&&(i(this,d).style.visibility="visible")}},$e=Me;M=new WeakMap,m=new WeakMap,w=new WeakMap,x=new WeakMap,g=new WeakMap,d=new WeakMap,L=new WeakMap,j=new WeakMap,Z=new WeakSet,a=function(e=!1){i(this,M)&&i(this,M).abort(),b(this,M,new AbortController),fetch(this.server+"?query="+encodeURIComponent(i(this,d).value),{signal:i(this,M).signal}).then(t=>t.json()).then(t=>{let s=t.data||t;u(this,G,a).call(this,s),b(this,M,null),e&&u(this,S,a).call(this)}).catch(t=>{t.name!=="AbortError"&&console.error(t)})},le=new WeakSet,a=function(){let e=i(this,m).querySelector("option");if(!!e){if(!e.value){let t=e.innerText;return e.remove(),t}return i(this,m).getAttribute("placeholder")?i(this,m).getAttribute("placeholder"):i(this,m).getAttribute("data-placeholder")?i(this,m).getAttribute("data-placeholder"):""}},ae=new WeakSet,a=function(){i(this,g).classList.add("dropdown-menu","p-0"),i(this,g).style.maxHeight="280px",i(this,g).style.overflowY="auto",i(this,g).addEventListener("mouseenter",e=>{b(this,L,!1)})},ce=new WeakSet,a=function(){i(this,w).classList.add("form-control","dropdown"),this.isDisabled()&&i(this,w).setAttribute("readonly",""),u(this,X,a).call(this)===4&&(i(this,w).style.height="auto")},de=new WeakSet,a=function(){i(this,x).addEventListener("click",t=>{this.isDisabled()||(i(this,d).style.visibility!="hidden"?i(this,d).focus():this.max===1&&u(this,S,a).call(this))});let e=i(this,m).querySelectorAll("option[selected]");for(let t=0;t<e.length;t++){let s=e[t];!s.value||(s.dataset.init=1,this.addItem(s.innerText,s.value))}},he=new WeakSet,a=function(){i(this,d).type="text",i(this,d).autocomplete="off",i(this,d).style.backgroundColor="transparent",i(this,d).style.border=0,i(this,d).style.outline=0,i(this,d).style.maxWidth="100%",i(this,d).ariaLabel=this.searchLabel,this.isDisabled()&&i(this,d).setAttribute("disabled",""),u(this,P,a).call(this),i(this,d).addEventListener("input",e=>{u(this,P,a).call(this),i(this,d).value.length>=this.suggestionsThreshold?this.liveServer?u(this,Z,a).call(this,!0):u(this,S,a).call(this):u(this,B,a).call(this)}),i(this,d).addEventListener("focus",e=>{i(this,d).value.length>=this.suggestionsThreshold&&u(this,S,a).call(this)}),i(this,d).addEventListener("focusout",e=>{u(this,B,a).call(this)}),i(this,d).addEventListener("keydown",e=>{let t=e.keyCode||e.key;if(this.separator.length&&this.separator.includes(e.key)){e.preventDefault(),this.addItem(i(this,d).value,null)&&u(this,K,a).call(this);return}switch(t){case 13:case"Enter":e.preventDefault();let s=this.getActiveSelection();s?s.click():this.allowNew&&!u(this,pe,a).call(this,i(this,d).value)&&i(this,d).value&&this.addItem(i(this,d).value,null)&&u(this,K,a).call(this);break;case 38:case"ArrowUp":e.preventDefault(),b(this,L,!0);let r=u(this,ue,a).call(this);i(this,d).value.length==0&&i(this,g).classList.contains("show")&&!r&&u(this,B,a).call(this);break;case 40:case"ArrowDown":e.preventDefault(),b(this,L,!0),u(this,fe,a).call(this),i(this,d).value.length==0&&!i(this,g).classList.contains("show")&&u(this,S,a).call(this);break;case 8:case"Backspace":i(this,d).value.length==0&&(this.removeLastItem(),u(this,P,a).call(this),u(this,B,a).call(this));break}})},ue=new WeakSet,a=function(){let e=this.getActiveSelection();if(e){let t=e.parentNode;do t=t.previousSibling;while(t&&t.style.display=="none");return t?(e.classList.remove(...H),t.querySelector("a").classList.add(...H),t.parentNode.scrollTop=t.offsetTop-t.parentNode.offsetTop,t):null}return null},fe=new WeakSet,a=function(){let e=this.getActiveSelection(),t=null;if(e){t=e.parentNode;do t=t.nextSibling;while(t&&t.style.display=="none");return t?(e.classList.remove(...H),t.querySelector("a").classList.add(...H),t.offsetTop>t.parentNode.offsetHeight-t.offsetHeight&&(t.parentNode.scrollTop+=t.offsetHeight),t):null}return t},P=new WeakSet,a=function(){i(this,d).value?i(this,d).size=i(this,d).value.length+1:this.getSelectedValues().length?(i(this,d).placeholder="",i(this,d).size=1):(i(this,d).size=this.placeholder.length,i(this,d).placeholder=this.placeholder)},G=new WeakSet,a=function(e=null){for(;i(this,g).lastChild;)i(this,g).removeChild(i(this,g).lastChild);for(let t=0;t<e.length;t++){let s=e[t];if(!s.value)continue;let r=document.createElement("li"),o=document.createElement("a");if(r.append(o),o.classList.add("dropdown-item"),o.setAttribute(U,s.value),o.setAttribute("href","#"),o.innerText=s.label,s.data)for(let[l,c]of Object.entries(s.data))o.dataset[l]=c;i(this,g).appendChild(r),o.addEventListener("mouseenter",l=>{i(this,L)||(this.removeActiveSelection(),r.querySelector("a").classList.add(...H))}),o.addEventListener("mousemove",l=>{b(this,L,!1)}),o.addEventListener("mousedown",l=>{l.preventDefault()}),o.addEventListener("click",l=>{l.preventDefault(),this.addItem(o.innerText,o.getAttribute(U),o.dataset),u(this,K,a).call(this)})}},K=new WeakSet,a=function(){i(this,d).value="",u(this,P,a).call(this),u(this,B,a).call(this),this.max&&this.getSelectedValues().length===this.max?i(this,d).style.visibility="hidden":i(this,d).style.visibility=="hidden"&&(i(this,d).style.visibility="visible")},S=new WeakSet,a=function(){i(this,g).classList.contains("show")||i(this,g).classList.add("show"),i(this,g).style.left=i(this,d).offsetLeft+"px";let e=i(this,d).value.toLocaleLowerCase(),t=this.getSelectedValues(),s=i(this,g).querySelectorAll("li"),r=!1,o=null,l=!1;for(let c=0;c<s.length;c++){let f=s[c],y=f.innerText.toLocaleLowerCase(),h=f.querySelector("a");if(h.classList.remove(...H),t.indexOf(h.getAttribute(U))!=-1){f.style.display="none";continue}l=!0;let N=e.length===0||y.indexOf(e)!==-1;this.showAllSuggestions||this.suggestionsThreshold===0||N?(f.style.display="list-item",r=!0,!o&&N&&(o=f)):f.style.display="none"}r||i(this,g).classList.remove("show"),o?(i(this,w).classList.contains("is-invalid")&&i(this,w).classList.remove("is-invalid"),o.querySelector("a").classList.add(...H),o.parentNode.scrollTop=o.offsetTop-o.parentNode.offsetTop):!this.allowNew&&!(e.length===0&&!l)?i(this,w).classList.add("is-invalid"):this.validationRegex&&i(this,w).classList.contains("is-invalid")&&i(this,w).classList.remove("is-invalid")},B=new WeakSet,a=function(){i(this,g).classList.contains("show")&&i(this,g).classList.remove("show"),i(this,w).classList.contains("is-invalid")&&i(this,w).classList.remove("is-invalid"),this.removeActiveSelection()},X=new WeakSet,a=function(){let e=5;return window.jQuery&&$.fn.tooltip!=null&&$.fn.tooltip.Constructor!=null&&(e=parseInt($.fn.tooltip.Constructor.VERSION.charAt(0))),e},pe=new WeakSet,a=function(e){let t=Array.from(i(this,m).querySelectorAll("option")).find(s=>s.textContent==e);return!!(t&&t.getAttribute("selected"))},me=new WeakSet,a=function(e){return new RegExp(this.validationRegex.trim()).test(e)},Ce($e,"instances",new WeakMap);var Xe=$e;var bs=Xe;export{bs as default};
//# sourceMappingURL=tags-standalone.min.js.map
